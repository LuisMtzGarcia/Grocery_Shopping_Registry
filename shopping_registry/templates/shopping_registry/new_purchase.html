{% extends "shopping_registry/base.html" %}

{% block page_header %}
<h1 class="display-5">
    <div class="text-center fw-bold">
        Registra una nueva compra:
    </div>
</h1>
{% endblock page_header %}

{% block content %}
    <div class="d-grid gap-2 d-md-block text-center btn-group btn-group-sm mb-5" 
        role="group" aria-label="Function buttons">
        <a href="{% url 'shopping_registry:registering_instructions' %}" 
            class="btn btn-secondary" role="button">
            Instrucciones
        </a>
    </div>
    <form action="{% url 'shopping_registry:new_purchase' %}" method='post'>
        {% csrf_token %}

        {{ form.non_fields_errors }}

        <div class="fieldWrapper">
            {{ form.product.errors }}
            <label for="{{ form.product.id_product }}">
                Producto: 
            </label>
            {{ form.product }}
        </div>

        <br>

        <div class="fieldWrapper">
            {{ form.category.errors }}
            <label for="{{ form.category.id_category }}">
                Categor√≠a: 
            </label>
            {{ form.category }}
        </div>

        <br>
        
        <div class="fieldWrapper">
            {{ form.quantity.errors }}
            <label for="{{ form.quantity.id_quantity }}">
                Cantidad: 
            </label>
            {{ form.quantity }}
        </div>

        <br>

        <div class="fieldWrapper">
            {{ form.price.errors }}
            <label for="{{ form.price.id_price }}">
                Precio total: 
            </label>
            {{ form.price }}
        </div>

        <br>

        <div class="fieldWrapper">
            {{ form.date_purchase.errors }}
            <label for="{{ form.date_purchase.id_date_purchase }}">
                Fecha de la compra:
            </label>
            {{ form.date_purchase }}
        </div>

        <br>

        <div class="fieldWrapper">
            {{ form.bulk.errors }}
            <label for="{{ form.bulk.id_bulk }}">
                Llena la casilla si fue compra a granel: 
            </label>
            {{ form.bulk }}
        </div>

        <br>

        <div class="d-grid gap-2 d-md-block text-center btn-group" role="group" 
            aria-label="Function buttons">
            <button name="submit" type="register" class="btn btn-success btn-lg mt-5">
                Registrar compra
            </button>
            <button name="submit" type="redirect" class="btn btn-success btn-lg mt-5">
                Guardar y registrar otra
            </button>
        </div>

    </form>
{% endblock content %}